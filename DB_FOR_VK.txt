DROP TABLE IF EXISTS Users;
DROP TABLE IF EXISTS Friends;
DROP TABLE IF EXISTS Posts;
DROP TABLE IF EXISTS Feeds;
DROP TABLE IF EXISTS UsersPosts;
DROP TABLE IF EXISTS Photos;
DROP TABLE IF EXISTS Albums;
DROP TABLE IF EXISTS UsersPostsLikes;
DROP TABLE IF EXISTS UsersPhotosLikes;
DROP TABLE IF EXISTS AlbumsPhotos;
DROP TABLE IF EXISTS PhotosLikes;
DROP TABLE IF EXISTS PostsLikes;
DROP TABLE IF EXISTS PhotosFromAlbums;




CREATE TABLE Users (
    u_id            SERIAL PRIMARY KEY,
    login           varchar(50),
    phone           varchar(20),
    mail            text,
    name            text,
    surname         text,
    password        text,
    photo_id        int,
    birthdate       varchar(20)
);

CREATE TABLE Friends(
    u_id            int,
    f_id            int
);

CREATE TABLE Posts(
    post_id         	SERIAL PRIMARY KEY,
    txt_data        	text,
    photo_id        	int,
    posts_likes_count   int,
    creation_date   	date,
    attachments     	text
);

CREATE TABLE Feeds(
    u_id            int,
    post_id         int
);

CREATE TABLE UsersPosts(
    u_id            int,
    post_id         int
);

CREATE TABLE Photos(
    photo_id        	   SERIAL PRIMARY KEY,
    url             	   text,
    photos_likes_count     int
);

CREATE TABLE Albums(
    album_id        SERIAL PRIMARY KEY,
    name            text,
    url             text,
    u_id            int
);

CREATE TABLE PhotosFromAlbums(
    photo_id    SERIAL PRIMARY KEY,
    photo_url   text,
    album_id    int
)


CREATE TABLE UsersPostsLikes(
    postlike_id           BIGSERIAL PRIMARY KEY,
    u_id            int,
    post_id         int
);

CREATE TABLE UsersPhotosLikes(
    photolike_id           BIGSERIAL PRIMARY KEY,
    u_id            int,
    photo_id        int
);

CREATE TABLE PostsLikes(
    u_id        	int,
    post_id     	int,
    post_was_like       boolean
);

CREATE TABLE PhotosLikes(
    u_id        	int,
    photo_id    	int,
    photo_was_like      boolean
);

INSERT INTO photos (url, photos_likes_count) VALUES ('defaults/profile/avatar', 0);
INSERT INTO Albums (name, url, u_id) VALUES ('default', 'albums/default', 0);






